#{ "version" : 2}
[
 {"rule":"EACH",
  "agentType":{"className":"RationalAgent",
               "weight": -0.0, 
	       "trail":0.0,
	       "margin":0.0,
	       "rule":[
		   ["if",
		    ["==", 0, {"":"random", "type":"int", "max":100}],
		    ["if",
		     ["==", "normal", {"":"getParam", "name":"mentalMode"}],
		     {"":"setParam", "name":"mentalMode", "value":"major"},
		     {"":"setParam", "name":"mentalMode", "value":"normal"}]],
		   {"":"log",
		    "":"null",
		    "special":"alertMessages"},
		   ["if",
		    {"":"listenAlert", "message":"emergency"},
		    [{"":"changeGoal", "goal":"node_09_05"},
		     {"":"clearPlannedRoute"},
		     {"":"log","tag":"change goal to 09_05"},
		     {"":"clearAlert", "message":"emergency"}]],
		   ["if",
		    {"":"listenAlert", "message":"foo-bar-baz"},
		    [{"":"insertRoute", "route":"node_02_00"},
		     {"":"log","tag":"agentId",
		               "value":{"":"getParam","name":"agentId"}},
		     {"":"log","tag":"linkId",
		               "value":{"":"getParam","name":"linkId"}},
		     {"":"log","tag":"insert route: 02_00"},
		     {"":"log","tag":"******* try turn around *******",
		      "level":"Info"},
		     ["if",
		      ["==", 0, {"":"random", "type":"int", "max":2}],
		      [{"":"turnAround", "foo":"bar"},
		       {"":"log","tag":"-------turn around------",
		        "level":"Warn"}]],
		     {"":"log","tag":"******* end turn around *******"},
		     {"":"clearAlert", "message":"foo-bar-baz"}]]
	       ]},
  "total":100,
  "startPlace":"link_node_00_00__node_00_01","conditions":null,
  "startTime":"18:00:00","duration":500.0,
  "goal":"node_09_09",
  "plannedRoute":["node_02_09","node_04_00","node_06_09","node_08_00"]},

{"rule":"EACH",
  "agentType":{"className":"RationalAgent",
	       "mentalMode":"major",
               "weight": -0.0, 
	       "trail":0.0,
	       "margin":0.0,
	       "rule":[
		   {"":"log",
		    "":"null",
		    "special":"alertMessages"},
		   ["if",
		    {"":"listenAlert", "message":"emergency"},
		    [{"":"changeGoal", "goal":"node_09_05"},
		     {"":"clearPlannedRoute"},
		     {"":"log","tag":"change goal to 09_05"},
		     {"":"clearAlert", "message":"emergency"}]],
		   ["if",
		    {"":"listenAlert", "message":"foo-bar-baz"},
		    [{"":"insertRoute", "route":"node_02_00"},
		     {"":"log","tag":"insert route: 02_00"},
		     {"":"clearAlert", "message":"foo-bar-baz"}]]
	       ]},
  "total":100,
  "startPlace":"link_node_00_00__node_00_01","conditions":null,
  "startTime":"18:00:00","duration":500.0,
  "goal":"node_09_09",
  "plannedRoute":["node_02_09","node_04_02","node_06_09","node_08_00"]},

{"rule":"EACH",
  "agentType":{"className":"RationalAgent",
	       "weight":-0.0, 
	       "trail":0.0,
	       "margin":0.0,
	       "_rule":[
		   {"":"log",
		    "":"null",
		    "tag":"Hello",
		    "value":{"":"quote", "value":"bar"}},
		   {"":"log",
		    "":"null",
		    "tag":"linkID",
		    "value":{"":"getParam", "name":"linkId"}},
		   {"":"log",
		    "":"null",
		    "tag":"goal",
		    "value":{"":"getParam", "name":"speed"}},
		   {"":"log",
		    "":"null",
		    "tag":"fallback",
		    "value":{"":"getFallback", "name":"emptySpeed"}},
		   {"":"log",
		    "":"null",
		    "tag":"param",
		    "value":{"":"getParam", "name":"emptySpeed"}},
		   {"":"log",
		    "":"null",
		    "special":"tags"},
		   {"":"log",
		    "":"null",
		    "tag":"FOO",
		    "value":{"":"random", "max":10}},
		   {"":"log",
		    "":"null",
		    "tag":"BAR",
		    "value":{"":"random", "double":10}},
		   {"":"if",
		    "":"null",
		    "condition":{"":"agentHasTag", "tag":"foo"},
		    "then":{"":"log", "tag":"agent has tag foo"}},
		   {"":"if",
		    "":"null",
		    "condition":{"":"agentHasTag", "tag":"hoge"},
		    "then":{"":"log", "tag":"agent has tag hoge."},
		    "else":{"":"log", "tag":"agent does not have tag hoge."}}
	       ]},
  "total":1,
  "startPlace":"link_node_00_08__node_00_09",
  "conditions": ["foo","bar","baz"],
  "startTime":"18:00:00","duration":50.0,
  "goal":"node_09_00",
  "plannedRoute":["node_02_00","node_04_09","node_06_00","node_08_09"]}
]

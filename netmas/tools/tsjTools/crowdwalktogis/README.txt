
This software is released under the MIT License, see LICENSE.txt.
このソフトウェアはMITライセンスのもとで公開しています。LICENSE.txtをご覧ください


平面直角座標と緯度経度を相互に変換するRubyスクリプトです。

このスクリプトでは国土地理院で公開されている計算式( http://surveycalc.gsi.go.jp/sokuchi/main.html )と、かつて菰口恵さんという方が公開していたExcelアドインを参考にしながら作成しました。
作成法からMITのライセンス適用に問題があるかもしれませんので気づいた方は教えていただけると助かります。


*注意点*
現在の状態では平面直角座標から緯度経度に変換した際、秒の小数第4位以下に誤差が発生することがありますのでご注意ください。
また、旧日本測地系のデータでは正しい値に変換することができないので併せてご注意ください。


*使用方法*
require 'cblxy'
か
require '%設置ディレクトリ%/cblxy'
でイケると思います。

xybl( X座標 , Y座標 , 座標系 )
とするとxybl[0]に緯度、xybl[1]に経度が返ってきます。

blxy( 緯度 , 経度 , 座標系 )
とするとblxy[0]にX座標、blxy[1]にY座標が返ってきます。

使用する単位は緯度経度はDDMMSS.SSSです、129度30分0.213秒であれば1293000.213となります。座標はメートルで入力します。


*更新*
2014-06-12 - Zoar
xy2bl(x,y)内にあるv3の計算を修正
正 90.0 * t1 ** 2.0 + 45.0 * t1 ** 4.0
        ^
誤 90.0 + t1 ** 2.0 + 45.0 * t1 ** 4.0
        ^

2013-12-19 - Zoar
github用にライセンスやREADMEを作成
rubyのパスを削除

2010-04-05 - Zoar
第5系の原点経度を修正
「BigDecimal("1")」等としていた数値の扱いを「1.0」と変更

2009-10-24 - Zoar
ファイル作成・初出


K'z Minor Release - Zoar

